<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview Study Plan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="nav">
  <a class="nav-link active" aria-current="page" href="index.html">C√°c ki·∫øn th·ª©c c∆° b·∫£n</a>
  <a class="nav-link" href="collections.html">C√¢u h·ªèi v·ªÅ collections</a>
  <a class="nav-link" href="tips.html">Tips & Tricks</a>
</nav>	
<div class="container my-5">
    <h1 class="text-center mb-4">üìö Interview Study Plan (1 - 1.5 Weeks)</h1>

     <div class="mb-3">
        <input type="text" class="form-control mb-2" id="topicInput" placeholder="Nh·∫≠p ch·ªß ƒë·ªÅ (v√≠ d·ª•: Kubernetes)">
        <textarea class="form-control mb-2" id="knowledgeInput" placeholder="Nh·∫≠p ki·∫øn th·ª©c li√™n quan (ngƒÉn c√°ch b·ªüi d·∫•u ch·∫•m ph·∫©y ';')"></textarea>
        <button class="btn btn-warning" onclick="addNewTopic()">‚ûï Th√™m Ch·ªß ƒê·ªÅ M·ªõi</button>
    </div>

    <div id="subPlans" class="mb-4"></div>

    <div id="plan"></div>

    <button class="btn btn-primary mt-4" onclick="markAllDone()">Mark All as Done</button>

    <h2>T·ªïng h·ª£p c√°c m·∫πo khi ph·ªèng v·∫•n</h2>
    <ul>
	    <li>Situation ‚Äì t√¨nh hu·ªëng: Trong vai tr√≤ c·ªßa m√¨nh v·ªõi t∆∞ c√°ch l√† nh√† thi·∫øt k·∫ø, ƒë√£ c√≥ l√∫c nh√≥m c·ªßa m√¨nh ƒë·ªëi m·∫∑t v·ªõi nh·ªØng v·∫•n ƒë·ªÅ kh√≥ khƒÉn nh∆∞ thi·∫øu nh√¢n s·ª± v√† l∆∞·ª£ng c√¥ng vi·ªác t·ªìn ƒë·ªông ƒë√°ng k·ªÉ. Nh·ªØng ng∆∞·ªùi qu·∫£n l√Ω ƒë√£ ƒë·∫∑t ra th·ªùi h·∫°n th·ª±c t·∫ø, ƒëi·ªÅu n√†y g√¢y ra cƒÉng th·∫≥ng cho team t√¥i v√† ·∫£nh h∆∞·ªüng ƒë·∫øn tinh th·∫ßn.</li>
	    <li>Task ‚Äì nhi·ªám v·ª•: V·ªõi t∆∞ c√°ch l√† m·ªôt tr∆∞·ªùng nh√≥m, nhi·ªám v·ª• c·ªßa t√¥i kh√¥ng ch·ªâ l√† ƒë·∫£m b·∫£o nh√≥m c·ªßa m√¨nh c√≥ th·ªÉ ƒë√°p ·ª©ng ƒë√∫ng th·ªùi h·∫°n m√† c√≤n l√†m vi·ªác v·ªõi c√°c b·ªô ph·∫≠n kh√°c v√† gi·ªØ cho nh√≥m c√≥ th√™m ƒë·ªông l·ª±c ƒë·ªÉ ho√†n th√†nh c√¥ng vi·ªác.</li>
	    <li>Action: T√¥i ƒë√£ thi·∫øt l·∫≠p quy tr√¨nh s√°ng t·∫°o g·ªìm thi·∫øt l·∫≠p th·ªùi gian d·ª± ƒë·ªãnh ho√†n th√†nh d·ª± √°n ƒë·ªÅ ra, l√™n l·ªãch c√°c cu·ªôc h·ªçp theo tu·∫ßn v·ªõi nh·ªØng ng∆∞·ªùi qu·∫£n l√Ω v·ªÅ m·ª•c ti√™u, chi·∫øn l∆∞·ª£c c·ªßa nh√≥m v·ªÅ quy tr√¨nh m·ªõi. V√¨ th·∫ø, h·ªç c√≥ th·ªÉ y√™n t√¢m h∆°n khi bi·∫øt ƒë∆∞·ª£c c√°c v·∫•n ƒë·ªÅ ƒë∆∞·ª£c gi·∫£i quy·∫øt.</li>
	    <li>Result ‚Äì k·∫øt qu·∫£: B·∫±ng vi·ªác chia s·∫ª m·ªôt c√°ch r√µ r√†ng, minh b·∫°ch cho nh·ªØng quy tr√¨nh c·ªßa nh√≥m m√¨nh v√† trao ƒë·ªïi r√µ r√†ng v·ªÅ nh·ªØng k·ª≥ v·ªçng v·ªõi ng∆∞·ªùi qu·∫£n l√Ω, ch√∫ng t√¥i ƒë√£ ∆∞u ti√™n l·∫°i danh s√°ch c√¥ng vi·ªác c·∫ßn l√†m v√† ho√†n th√†nh m·ªçi th·ª© ƒë√∫ng h·∫°n, tr√°nh vi·ªác t·ªìn ƒë·ªçng. T√¥i ƒë√£ r√∫t ra ƒë∆∞·ª£c b√†i h·ªçc cho m√¨nh, ƒë·ªìng th·ªùi, ti·∫øp t·ª•c √°p d·ª•ng c·∫•u tr√∫c n√†y v√† k·∫øt qu·∫£ l√† trong qu√Ω ti·∫øp theo, ch√∫ng t√¥i ƒë√£ r√∫t ng·∫Øn th·ªùi gian d·ª± √°n trung b√¨nh c·ªßa m√¨nh xu·ªëng c√≤n 2 ng√†y. B·∫£n th√¢n t√¥i c≈©ng h·ªçc ƒë∆∞·ª£c t·∫ßm quan tr·ªçng c·ªßa vi·ªác giao ti·∫øp r√µ r√†ng gi·ªØa c√°c th√†nh vi√™n trong nh√≥m v√† qu·∫£n l√Ω c·ªßa m√¨nh.</li>
    </ul>


    <h2>C√°c c√¢u h·ªèi v·ªÅ Java collections</h2>
	<ul>
	  <li>Array l√† g√¨? ∆Øu nh∆∞·ª£c ƒëi·ªÉm c·ªßa array trong Java?</li>
	  <li>S·ª± kh√°c bi·ªát gi·ªØa array v√† ArrayList l√† g√¨?</li>
	  <li>ArrayList v√† LinkedList kh√°c nhau nh∆∞ th·∫ø n√†o?</li>
	  <li>Khi n√†o n√™n d√πng LinkedList thay v√¨ ArrayList?</li>
	  <li>S·ª± kh√°c nhau gi·ªØa List, Set v√† Map trong Java?</li>
	  <li>HashMap l√† g√¨? Ho·∫°t ƒë·ªông n·ªôi b·ªô c·ªßa n√≥ ra sao?</li>
	  <li>HashSet ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o?</li>
	  <li>TreeMap kh√°c HashMap ·ªü ƒëi·ªÉm n√†o?</li>
	  <li>PriorityQueue ho·∫°t ƒë·ªông th·∫ø n√†o?</li>
	  <li>S·ª± kh√°c nhau gi·ªØa Stack v√† Queue?</li>
	  <li>Deque l√† g√¨?</li>
	  <li>LinkedHashMap l√† g√¨? Khi n√†o n√™n d√πng?</li>
	  <li>S·ª± kh√°c bi·ªát gi·ªØa HashMap v√† Hashtable?</li>
	  <li>ConcurrentHashMap l√† g√¨? N√≥ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ g√¨?</li>
	  <li>WeakHashMap l√† g√¨? N√≥ ho·∫°t ƒë·ªông th·∫ø n√†o?</li>
	  <li>Hashing l√† g√¨? L√†m sao tr√°nh collision?</li>
	  <li>Khi n√†o n√™n override ph∆∞∆°ng th·ª©c hashCode() v√† equals()?</li>
	  <li>So s√°nh ArrayDeque v√† LinkedList khi d√πng l√†m queue.</li>
	  <li>Time complexity c·ªßa c√°c ph∆∞∆°ng th·ª©c c∆° b·∫£n trong ArrayList l√† g√¨?</li>
	  <li>Time complexity c·ªßa c√°c ph∆∞∆°ng th·ª©c c∆° b·∫£n trong LinkedList?</li>
	  <li>S·∫Øp x·∫øp array trong Java nh∆∞ th·∫ø n√†o?</li>
	  <li>T√¨m ph·∫ßn t·ª≠ l·ªõn th·ª© hai trong array?</li>
	  <li>L√†m sao ph√°t hi·ªán loop trong linked list?</li>
	  <li>L√†m sao ƒë·∫£o ng∆∞·ª£c m·ªôt linked list?</li>
	  <li>L√†m sao merge hai sorted linked lists?</li>
	  <li>L√†m sao detect cycle trong graph?</li>
	  <li>Duy·ªát graph b·∫±ng BFS v√† DFS trong Java nh∆∞ th·∫ø n√†o?</li>
	  <li>Stack ƒë∆∞·ª£c implement b·∫±ng array hay linked list?</li>
	  <li>Queue ƒë∆∞·ª£c implement b·∫±ng array hay linked list?</li>
	  <li>L√†m sao thi·∫øt k·∫ø LRU cache trong Java?</li>
	  <li>L√†m sao implement trie trong Java?</li>
	  <li>S·∫Øp x·∫øp heap sort ho·∫°t ƒë·ªông th·∫ø n√†o?</li>
	  <li>PriorityQueue trong Java d·ª±a tr√™n min heap hay max heap?</li>
	  <li>L√†m sao implement min stack (stack v·ªõi h√†m getMin())?</li>
	  <li>Binary Search Tree (BST) l√† g√¨? Khi n√†o d√πng?</li>
	  <li>L√†m sao t√¨m ph·∫ßn t·ª≠ k l·ªõn nh·∫•t trong BST?</li>
	  <li>L√†m sao ki·ªÉm tra m·ªôt c√¢y c√≥ ph·∫£i l√† BST kh√¥ng?</li>
	  <li>L√†m sao duy·ªát c√¢y theo inorder, preorder, postorder?</li>
	  <li>L√†m sao c√¢n b·∫±ng m·ªôt c√¢y AVL?</li>
	  <li>Red-Black Tree kh√°c AVL tree ·ªü ƒëi·ªÉm n√†o?</li>
	  <li>Segment tree l√† g√¨? Khi n√†o d√πng?</li>
	  <li>Fenwick tree (Binary Indexed Tree) l√† g√¨?</li>
	  <li>Disjoint Set Union (Union-Find) l√† g√¨? Khi n√†o d√πng?</li>
	  <li>Graph c√≥ th·ªÉ implement b·∫±ng adjacency matrix hay adjacency list? ∆Øu nh∆∞·ª£c ƒëi·ªÉm?</li>
	  <li>L√†m sao t√¨m ƒë∆∞·ªùng ƒëi ng·∫Øn nh·∫•t trong graph?</li>
	  <li>Dijkstra‚Äôs algorithm ƒë∆∞·ª£c implement ra sao?</li>
	  <li>Topological sort l√† g√¨? Khi n√†o d√πng?</li>
	  <li>KMP algorithm trong t√¨m ki·∫øm chu·ªói ho·∫°t ƒë·ªông th·∫ø n√†o?</li>
	  <li>Rabin-Karp algorithm l√† g√¨?</li>
	  <li>Khi n√†o n√™n ch·ªçn c·∫•u tr√∫c d·ªØ li·ªáu t√πy ch·ªânh thay v√¨ d√πng s·∫µn trong Java Collections Framework?</li>
	</ul>

</p>

</div>

<script>
const STORAGE_KEY_MAIN = "interview_plan_status";
const STORAGE_KEY_SUB = "sub_plans";

const planData = [
    { day: 1, topic: "Microservices & Ki·∫øn tr√∫c", knowledge: ["Microservices vs Monolithic", "∆Øu/Nh∆∞·ª£c ƒëi·ªÉm, Anti-patterns", "API Gateway, Circuit Breaker, Saga, CQRS", "Service Mesh (Istio, Linkerd)", "Service Discovery (Consul, Eureka)", "Config Server & Centralized Configuration"], questions: ["T·∫°i sao ch·ªçn Microservices?", "Giao ti·∫øp gi·ªØa c√°c service nh∆∞ th·∫ø n√†o?", "B·∫°n ƒë√£ t·ª´ng g·∫∑p v·∫•n ƒë·ªÅ g√¨ v·ªõi service discovery ch∆∞a?"], project: "Ph√¢n t√≠ch ki·∫øn tr√∫c microservices b·∫°n ƒë√£ l√†m: l√Ω do t√°ch, c√°ch deploy, giao ti·∫øp, config chung" },
    { day: 2, topic: "Spring Boot Core & C·∫•u tr√∫c D·ª± √Ån", 
     	knowledge: ["Spring Context, Dependency Injection, Bean Lifecycle", 
		    "Annotation: @Component, @Service, @Repository, @Controller, @RestController, @Configuration", 
		    "Modular ho√° code v√† layered architecture", "Custom Starter v√† AutoConfiguration"], 
     	questions: ["Khi n√†o d√πng @Component v√† @Bean?", 
		    "Bean ƒë∆∞·ª£c kh·ªüi t·∫°o nh∆∞ th·∫ø n√†o?", 
		    "C·∫•u tr√∫c n√†o gi√∫p scale ·ª©ng d·ª•ng t·ªët h∆°n?",
		    "h√£y n√™u qu√° tr√¨nh bean cycle"], 
     	project: [
			"Gi·∫£i th√≠ch c·∫•u tr√∫c project hi·ªán t·∫°i b·∫°n ƒëang l√†m v·ªõi Spring Boot",
		  	"C√°c v·∫•n ƒë·ªÅ g·∫∑p ph·∫£i khi l√†m vi·ªác v·ªõi bean?, gi·∫£i quy·∫øt nh∆∞ th·∫ø n√†o",
			"autowired v√† inject bean tr·ª±c ti·∫øp th√¥ng qua constructor, b·∫°n ch·ªçn c√°ch n√†o?"
		 ]},
    { day: 3, topic: "Spring Boot Advanced & Exception Handling", knowledge: ["@Transactional, Propagation & Isolation", "Exception Handling: @ControllerAdvice, @ExceptionHandler", "Validation: @Valid, Custom Validator", "Retry & Circuit Breaker (Spring Retry, Resilience4j)", "Custom Converter & Formatter"], questions: ["Khi n√†o rollback kh√¥ng ho·∫°t ƒë·ªông?", "C√°ch x·ª≠ l√Ω l·ªói b·∫•t ƒë·ªìng b·ªô?", "L√†m sao ƒë·ªÉ retry khi g·ªçi API th·∫•t b·∫°i?"], project: "M√¥ t·∫£ 1 t√¨nh hu·ªëng l·ªói th·ª±c t·∫ø b·∫°n ƒë√£ debug li√™n quan ƒë·∫øn transaction ho·∫∑c validation" },
    { day: 4, topic: "Spring Security & OAuth2 (Optional)", knowledge: ["Authentication vs Authorization", "JWT Token Flow, OAuth2 Flow", "Spring Security Filter Chain", "Resource Server vs Authorization Server", "CORS v√† CSRF trong Spring Security"], questions: ["JWT c√≥ nh∆∞·ª£c ƒëi·ªÉm g√¨?", "Khi n√†o n√™n d√πng OAuth2?", "L√†m sao b·∫£o v·ªá endpoint REST?"], project: "Gi·∫£i th√≠ch c√°ch b·∫°n b·∫£o m·∫≠t API trong m·ªôt d·ª± √°n th·ª±c t·∫ø" },
    { day: 5, topic: "PostgreSQL", knowledge: ["MVCC, Transaction Isolation Levels", "Indexing: B-Tree, GiST, GIN", "Query Execution Plan (EXPLAIN ANALYZE)", "Partition Table", "CTE Recursive", "Window Functions n√¢ng cao"], questions: ["Khi n√†o Index kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng?", "Gi·∫£i th√≠ch MVCC v√† Vacuum", "Khi n√†o n√™n d√πng table partitioning?"], project: "T√¨m m·ªôt query b·∫°n t·ª´ng t·ªëi ∆∞u v√† gi·∫£i th√≠ch logic c≈©ng nh∆∞ c√°ch c·∫£i thi·ªán hi·ªáu nƒÉng" },
    { day: 6, topic: "Redis & Caching Patterns", knowledge: ["Redis Data Structures", "Cache Aside, Write Through, Write Behind", "TTL, Eviction Policies: LRU, LFU, FIFO", "Pub/Sub", "Distributed Lock (SETNX + Expire)", "Redis Cluster vs Sentinel"], questions: ["Khi n√†o cache b·ªã stale?", "Redis c√≥ ph·∫£i lu√¥n l√† l·ª±a ch·ªçn t·ªët?", "C√°ch tri·ªÉn khai locking b·∫±ng Redis?"], project: "Gi·∫£i th√≠ch n∆°i b·∫°n d√πng cache th·ª±c t·∫ø v√† v·∫•n ƒë·ªÅ ƒë√£ g·∫∑p" },
    { day: 7, topic: "Kafka", knowledge: ["Kafka Architecture", "Consumer Groups, Message Ordering", "At-least-once, Exactly-once semantics", "Rebalance & Offset Management", "Kafka Streams & KSQL", "Dead Letter Queue"], questions: ["Khi n√†o x·∫£y ra message loss?", "Kafka v√† RabbitMQ kh√°c nhau nh∆∞ th·∫ø n√†o?", "Gi·∫£i ph√°p x·ª≠ l√Ω message l·ªói?"], project: "Tr√¨nh b√†y flow Kafka b·∫°n ƒë√£ tri·ªÉn khai: producer, consumer, topic, x·ª≠ l√Ω l·ªói" },
    { day: 8, topic: "Elasticsearch & Logging", knowledge: ["Elasticsearch Concepts", "Query vs Filter Context", "Logging Stack: ELK/EFK", "Full-text search vs Keyword", "Analyzers & Tokenizers", "Index Tuning & Shard Management"], questions: ["Khi n√†o kh√¥ng n√™n d√πng Elasticsearch?", "L√†m sao ƒë·∫£m b·∫£o k·∫øt qu·∫£ t√¨m ki·∫øm nhanh?", "C√°ch t·ªëi ∆∞u index size?"], project: "Chia s·∫ª c√°ch b·∫°n d√πng Elasticsearch ƒë·ªÉ t√¨m ki·∫øm d·ªØ li·ªáu trong h·ªá th·ªëng" },
    { day: 9, topic: "Java Core √în T·∫≠p (6 ti·∫øng)", knowledge: ["OOP, SOLID, Design Patterns", "Collections: List, Map, Set", "Concurrency: Thread, Runnable, synchronized, volatile", "ExecutorService, Callable, Future", "Stream API n√¢ng cao", "Garbage Collection v√† Memory Model"], questions: ["Khi n√†o d√πng HashMap vs ConcurrentHashMap?", "Gi·∫£i th√≠ch synchronized v√† volatile.", "B·∫°n ƒë√£ t·ª´ng b·ªã memory leak ch∆∞a?"], project: "T·ªïng h·ª£p l·∫°i c√°c l·ªói Java Core b·∫°n t·ª´ng g·∫∑p v√† r√∫t kinh nghi·ªám" },
    { day: 10, topic: "T·ªïng K·∫øt & Mock Interview (6 ti·∫øng)", knowledge: ["Review to√†n b·ªô topic", "Gi·∫£i th√≠ch nhanh 3-5 ph√∫t m·ªói ch·ªß ƒë·ªÅ", "Chu·∫©n b·ªã t√¨nh hu·ªëng d·ª± √°n", "STAR Format khi tr√¨nh b√†y kinh nghi·ªám", "Soft skill: Communication, Ownership, Problem Solving"], questions: ["V·∫•n ƒë·ªÅ g·∫∑p ph·∫£i v√† c√°ch gi·∫£i quy·∫øt?", "L√Ω do ch·ªçn gi·∫£i ph√°p k·ªπ thu·∫≠t?", "B·∫°n h·ªçc ƒë∆∞·ª£c g√¨ t·ª´ th·∫•t b·∫°i?"], project: "Chu·∫©n b·ªã 3 c√¢u chuy·ªán d·ª± √°n c·ª• th·ªÉ ƒë·ªÉ k·ªÉ trong ph·ªèng v·∫•n theo d·∫°ng STAR" },
    { day: 11, topic: "√în t·∫≠p tasking th·ª±c t·∫ø", knowledge: ["ƒê√£ x·ª≠ l√≠ c√°ch ƒë·∫∑t tour nh∆∞ th·∫ø n√†o?", 
							    "C√≥ v·∫•n ƒë·ªÅ g√¨ x·∫£y ra tr√™n production, ƒë√£ x·ª≠ l√≠ v·∫•n ƒë·ªÅ ƒë√≥ nh∆∞ th·∫ø n√†o?",
							   "C√≥ g·∫∑p v·∫•n ƒë·ªÅ v·ªõi performance kh√¥ng?", "Soft skill: Communication, Ownership, Problem Solving"], 
	questions: ["V·∫•n ƒë·ªÅ g·∫∑p ph·∫£i v√† c√°ch gi·∫£i quy·∫øt?", "L√Ω do ch·ªçn gi·∫£i ph√°p k·ªπ thu·∫≠t?", "B·∫°n h·ªçc ƒë∆∞·ª£c g√¨ t·ª´ th·∫•t b·∫°i?"], project: "Chu·∫©n b·ªã kƒ© c√°c t√¨nh hu·ªëng" },
   { day: 12, topic: "Java Multithreading", knowledge: ["Thread & Runnable", "ExecutorService", "synchronized & volatile", "Locks & Semaphores", "ThreadPool", "CompletableFuture"], questions: ["Khi n√†o d√πng synchronized?", "volatile kh√°c g√¨ synchronized?", "C√°ch t·ªëi ∆∞u performance ƒëa lu·ªìng?"], project: "Tr√¨nh b√†y v√≠ d·ª• th·ª±c t·∫ø b·∫°n ƒë√£ x·ª≠ l√Ω b√†i to√°n ƒëa lu·ªìng: thi·∫øt k·∫ø, v·∫•n ƒë·ªÅ g·∫∑p ph·∫£i v√† c√°ch gi·∫£i quy·∫øt" },
   { day: 13, topic: "System Design", knowledge: ["Scalability", "Load Balancing", "Database Sharding", "Caching Strategies", "High Availability"], questions: ["L√†m sao scale system?", "ƒê·∫£m b·∫£o HA th·∫ø n√†o?"], project: "Thi·∫øt k·∫ø h·ªá th·ªëng gi·∫£ ƒë·ªãnh nh∆∞ social network, e-commerce" },
   { day: 14, topic: "Java Performance Tuning", knowledge: ["JVM Internals", "JIT Compiler", "Heap & GC Tuning", "Profiling Tools", "Memory Leak Detection"], questions: ["L√†m sao t·ªëi ∆∞u GC?", "D√πng c√¥ng c·ª• n√†o ƒë·ªÉ t√¨m leak?"], project: "Ph√¢n t√≠ch performance ·ª©ng d·ª•ng Java th·ª±c t·∫ø v√† c·∫£i thi·ªán" },
   { day: 15, topic: "Reactive Programming in Java", knowledge: ["Reactive Streams", "Project Reactor", "Mono & Flux", "Backpressure", "Spring WebFlux"], questions: ["Reactive kh√°c g√¨ CompletableFuture?", "Khi n√†o n√™n d√πng reactive?"], project: "Tri·ªÉn khai m·ªôt flow reactive trong d·ª± √°n th·ª±c t·∫ø v√† so s√°nh v·ªõi truy·ªÅn th·ªëng" }	
];

function saveMainPlanStatus() {
    const status = {};
    planData.forEach(item => {
        const id = `day-${item.day}`;
        const checkbox = document.getElementById(id);
        if (checkbox) status[id] = checkbox.checked;
    });
    localStorage.setItem(STORAGE_KEY_MAIN, JSON.stringify(status));
}

function loadMainPlanStatus() {
    const status = JSON.parse(localStorage.getItem(STORAGE_KEY_MAIN));
    if (status) {
        Object.entries(status).forEach(([id, checked]) => {
            const checkbox = document.getElementById(id);
            if (checkbox) checkbox.checked = checked;
        });
    }
}

function renderPlan() {
    const planContainer = document.getElementById('plan');
    planContainer.innerHTML = '';
    planData.forEach(item => {
        planContainer.innerHTML += `
        <div class="card mb-3">
            <div class="card-header bg-primary text-white">
                ‚úÖ Ng√†y ${item.day || '-'}: ${item.topic} <input type="checkbox" class="form-check-input float-end" id="day-${item.day}" onchange="saveMainPlanStatus()">
            </div>
            <div class="card-body">
                <h5>üìñ Ki·∫øn th·ª©c:</h5>
                <ul>${item.knowledge.map(k => `<li>${k}</li>`).join('')}</ul>
                ${item.questions ? `<h5>‚ùì T·ª± h·ªèi:</h5><ul>${item.questions.map(q => `<li>${q}</li>`).join('')}</ul>` : ''}
                ${item.project ? `<h5>üíº D·ª± √°n th·ª±c t·∫ø:</h5><p>${item.project}</p>` : ''}
            </div>
        </div>`;
    });
    loadMainPlanStatus();
}

function markAllDone() {
    planData.forEach(item => {
        const checkbox = document.getElementById(`day-${item.day}`);
        if (checkbox) checkbox.checked = true;
    });
    saveMainPlanStatus();
}

function addSubPlan() {
    const input = document.getElementById('subPlanInput');
    const value = input.value.trim();
    if (!value) return;
    const subPlans = JSON.parse(localStorage.getItem(STORAGE_KEY_SUB)) || [];
    subPlans.push({ id: `sub-${Date.now()}`, text: value, done: false });
    localStorage.setItem(STORAGE_KEY_SUB, JSON.stringify(subPlans));
    input.value = '';
    renderSubPlans();
}

function toggleSubPlan(id) {
    const subPlans = JSON.parse(localStorage.getItem(STORAGE_KEY_SUB)) || [];
    const updatedPlans = subPlans.map(plan => plan.id === id ? { ...plan, done: !plan.done } : plan);
    localStorage.setItem(STORAGE_KEY_SUB, JSON.stringify(updatedPlans));
    renderSubPlans();
}

function renderSubPlans() {
    const container = document.getElementById('subPlans');
    container.innerHTML = '';
    const subPlans = JSON.parse(localStorage.getItem(STORAGE_KEY_SUB)) || [];
    subPlans.forEach(plan => {
        container.innerHTML += `
        <div class="form-check">
            <input class="form-check-input" type="checkbox" id="${plan.id}" ${plan.done ? 'checked' : ''} onchange="toggleSubPlan('${plan.id}')">
            <label class="form-check-label" for="${plan.id}">${plan.text}</label>
        </div>`;
    });
}

function addNewTopic() {
    const topic = document.getElementById('topicInput').value.trim();
    const knowledgeInput = document.getElementById('knowledgeInput').value.trim();
    if (!topic || !knowledgeInput) return;
    const knowledge = knowledgeInput.split(';').map(k => k.trim()).filter(k => k);
    planData.push({ topic, knowledge });
    renderPlan();
    document.getElementById('topicInput').value = '';
    document.getElementById('knowledgeInput').value = '';
}

document.addEventListener('DOMContentLoaded', () => {
    renderPlan();
    renderSubPlans();
});
</script>
</body>
</html>
